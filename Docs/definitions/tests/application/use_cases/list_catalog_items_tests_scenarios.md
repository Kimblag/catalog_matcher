# Escenarios de tests - ListCatalogItems

| Caso de test                                             | Escenario                         | Setup (mocks)                     | Entrada                                      | Comportamiento esperado                                   | Resultado esperado                              |
| -------------------------------------------------------- | --------------------------------- | ---------------------------------- | -------------------------------------------- | --------------------------------------------------------- | ----------------------------------------------- |
| list_catalog_items_happy_path                             | Catálogo con items activos        | Repo retorna catálogo con items    | filters=None, include_inactive=False          | Lista solo items activos                                  | DTO con todos los items activos                 |
| list_catalog_items_with_filters                          | Filtros coinciden                 | Catálogo con múltiples categorías | filters={"category": "x"}                    | Aplica filtros correctamente                              | DTO solo con items filtrados                    |
| list_catalog_items_excludes_inactive_by_default          | Items inactivos presentes         | Catálogo con items activos/inactivos | include_inactive=False                     | Excluye items inactivos                                   | DTO sin items inactive                          |
| list_catalog_items_includes_inactive_when_flag_true      | Include inactive                  | Catálogo con items inactivos       | include_inactive=True                        | Incluye items inactivos                                   | DTO con activos e inactivos                     |
| list_catalog_items_filters_and_inactive_combined         | Filtro + inactive                 | Catálogo mixto                     | filters + include_inactive=False             | Aplica ambos criterios                                    | DTO consistente                                 |
| list_catalog_items_returns_empty_when_no_match           | Filtro sin matches                | Catálogo válido                    | filters={"category": "no-existe"}            | No hay coincidencias                                      | DTO con lista vacía                             |
| list_catalog_items_propagates_repo_exception             | Error repositorio                 | repo.get lanza excepción           | —                                            | No captura excepción                                      | Excepción propagada                             |
